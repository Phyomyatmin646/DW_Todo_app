{% extends 'base.html' %}
{% block body %}
<div class="m2">
    <div class="m2_1">
        <h1 class="m2_2">ðŸ“Œ DynamixWave Students List</h1>
        <a href="{% url 'Todocreate' %}" class="m2_3">+ Create</a>
    </div>

    <table class="m2_4">
        <thead>
            <tr class="m2_5">
                <th class="m2_6">ID</th>
                <th class="m2_7">Title</th>
                <th class="m2_8">Description</th>
                <th class="m2_9">Status</th>
                <th class="m2_10">Created At</th>
                <th class="m2_11">Updated At</th>
                <th class="m2_12">Action</th>
            </tr>
        </thead>
        <tbody>
            {% for i in todo %}
            <tr class="m2_13">
                <td class="m2_14">{{ i.id }}</td>
                <td class="m2_15">{{ i.title }}</td>
                <td class="m2_16">{{ i.description }}</td>
                <td class="m2_17">
                    <span class="m2_18">
                        <input type="checkbox" class="m2_19" {% if i.completed %} checked {% endif %}>
                        <span class="m2_20">
                            {% if i.completed %} Completed {% else %} Pending {% endif %}
                        </span>
                    </span>
                </td>
                <td class="m2_21">{{ i.created_at }}</td>
                <td class="m2_22">{{ i.updated_at }}</td>
                <td class="m2_23">
                    <a href="{% url 'Tododetail' i.id %}" class="m2_24">Details</a>
                    <a href="{% url 'Todoupdate' i.id %}" class="m2_25">Update</a>
                    <form action="{% url 'Tododelete' i.id %}" method="post" class="m2_26">
                        {% csrf_token %}
                        <button type="submit" onclick="return confirm('Are you sure you want to delete this todo?')" 
                            class="m2_27">
                            Delete
                        </button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
